<script>
    const TILE = 32;
    const WIDTH = 10;
    var canvas = document.createElement('canvas');
    document.body = document.createElement('body');
    document.body.appendChild(canvas);
    document.title = 'Mazeboy';
    canvas.width = window.innerWidth - 50;
    canvas.height = window.innerHeight - 50;
    var ctx = canvas.getContext('2d');
    var player = { x: 1, y: 1 };
    var maze = [
        'MMMMMMMMMM',
        'M        M',
        'M MMMMMM M',
        'M M    M M',
        'M   MM   M',
        'M MMMMMM M',
        'M        M',
        'MMMMMMMMMM'
    ];
    drawMaze();
    drawPlayer();
    //drawWall(0, 0);
    function drawMaze() {
        for (var i = 0; i < maze.length; i++) {
            var row = maze[i];
            for (j = 0; j < row.length; j++) {
                var block = row.substr(j, 1);
                if (block == 'M') {
                    drawWall(j, i);
                }
            }
        }
    }
    function drawWall(x, y) {
        ctx.fillStyle = '#888';
        ctx.fillRect(x * TILE, y * TILE, TILE, TILE);
        ctx.fillStyle = '#DDD';
        ctx.fillRect(x * TILE, (y + 1) * TILE, TILE, TILE / 2);
    }
    function drawPlayer() {
        var x = player.x;
        var y = player.y;
        ctx.fillStyle = '#AAA';
        ctx.beginPath();
        ctx.arc(x * TILE + TILE / 2, y * TILE + TILE / 2, TILE / 2, 0, 2 * Math.PI);
        ctx.fill();
        ctx.fillStyle = '#444';
        ctx.fillRect(x * TILE + TILE / 4, y * TILE + TILE / 4, TILE / 8, TILE / 8);
        ctx.fillRect(x * TILE + TILE - TILE / 4 - TILE / 8, y * TILE + TILE / 4, TILE / 8, TILE / 8);
    }
</script>