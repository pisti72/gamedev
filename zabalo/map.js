var Map = {
    level: 1,
    working: [],
    display: [],
    item: {
        wall: '&#128997;',
        gem: '&#128312;',
        player: '&#128526',
        enemy: '&#128027',
        //space:'&nbsp;
        space:'&#128313;'
    },
    copyLevelToWorking: function () {
        this.working = [];
        var level = this.levels[this.level - 1];
        for (var i = 0; i < level.length; i++) {
            this.working.push(level[i]);
        }
    },
    render: function () {
        this.display = [];
        for (var i = 0; i < this.working.length; i++) {
            this.display.push(this.working[i]);
        }
        var s = '';
        for (var i = 0; i < this.display.length; i++) {
            var row = this.display[i];
            var newrow = '';
            for (var j = 0; j < row.length; j++) {
                var char = row.charAt(j);
                if (char == '1') {
                    newrow += this.item.wall;
                } else if (char == '2') {
                    newrow += this.item.player;
                } else if (char == '3') {
                    newrow += this.item.enemy;
                } else if (char == '.') {
                    newrow += this.item.gem;
                } else if (char == ' ') {
                    newrow += this.item.space;
                } else {
                    newrow += char;
                }
            }
            s += newrow + '</br>';
        }
        return s;
    },
    renderRaw: function () {
        var level = this.levels[this.level - 1];
        var s = '';
        for (var i = 0; i < level.length; i++) {
            s += level[i] + '</br>';
        }
        return s;
    },
    renderLevel: function () {
        var level = this.levels[this.level - 1];
        var s = '';
        for (var i = 0; i < level.length; i++) {
            var row = level[i];
            var newrow = '';
            for (var j = 0; j < row.length; j++) {
                var char = row.charAt(j);
                if (char == '1') {
                    newrow += this.item.wall;
                } else if (char == '2') {
                    newrow += this.item.player;
                } else if (char == '3') {
                    newrow += this.item.enemy;
                } else if (char == '.') {
                    newrow += this.item.gem;
                } else {
                    newrow += char;
                }
            }
            s += newrow + '</br>';
        }
        return s;
    },
    get: function () {
        return this.levels[this.level - 1];
    },
    getCell: function (x, y) {
        var row = this.working[y];
        return row.charAt(x);
    },
    setCell: function (n, x, y) {
        var row = this.working[y];
        newrow = row.substr(0, x ) + n + row.substr(x +1, row.length - x -1);
        this.working[y] = newrow;
    },
    levels: [
        [									//ebben a t�mbben t�roljuk az �sszes p�ly�t
            "1111111111111111111111111111111",
            "1.............1111111........31",
            "1.11111111111.1111111.1111111.1",
            "1.11111111111.1111111.1111111.1",
            "1.11111111111.........1111111.1",
            "1.11111..1111.1111111.........1",
            "1.11111..1111.11111111111.11111",
            "1.............11111111111.11111",
            "1111111.11111111111111111.11111",
            "1111111.11111111111111111.11111",
            "1111111.1111111111111.........1",
            "1111111.1111111111111.111.111.1",
            "111111....21111111111.1111111.1",
            "1111111.1111111111111.1111111.1",
            "1111111.1111111111111.1111111.1",
            "1..........1111111111.1111111.1",
            "1.11111111.1111111111.1111111.1",
            "1.11111111.1111111111.1111111.1",
            "1.11111111.1111111111.1111111.1",
            "1..111111..1111111111.1111111.1",
            "1.11111111............1111111.1",
            "1.11111111.1111111111.1111111.1",
            "1.11111111.1111111111.111.111.1",
            "13.........1111111111.........1",
            "1111111111111111111111111111111"
        ], [
            "1111111111111111111111111111111",
            "1............................31",
            "1.1111111111111.1111111111111.1",
            "1.1.........................1.1",
            "1.1.11111111111.11111111111.1.1",
            "1.1.13....................1.1.1",
            "1.1.1.111111111.111111111.1.1.1",
            "1.1.1.1.................1.1.1.1",
            "1.1.1.1.1111111.1111111.1.1.1.1",
            "1.1.1.1.1.............1.1.1.1.1",
            "1.1.1.1.1.11111.11111.1.1.1.1.1",
            "1.1.1.1.1.1.........1.1.1.1.1.1",
            "..........1.........1..........",
            "1.1.1.1.1.1.........1.1.1.1.1.1",
            "1.1.1.1.1.11111.11111.1.1.1.1.1",
            "1.1.1.1.1.............1.1.1.1.1",
            "1.1.1.1.1111111.1111111.131.1.1",
            "1.1.1.1.................1.1.1.1",
            "1.1.1.111111111.111111111.1.1.1",
            "1.1.1.....................1.1.1",
            "1.1.11111111111.11111111111.1.1",
            "1.1.........................1.1",
            "1.111111111111121111111111111.1",
            "13............................1",
            "1111111111111111111111111111111"
        ], [
            "1111111111111111111111111111111",
            "13...........................31",
            "1.1111111.............111.111.1",
            "1.1.....1.............1.....1.1",
            "1.....................1.....1.1",
            "1.1.....1.............1.....1.1",
            "1.111 111.............111.111.1",
            "1.............................1",
            "1......                 ......1",
            "1.....     1111 1111     .....1",
            "1....      1.......1      ....1",
            "1...       1 1.2.1.1       ...1",
            "1..        ..11111..        ..1",
            "1..        1.1...1.1        ..1",
            "1..        1.......1        ..1",
            "1...       111111111       ...1",
            "1....        .  .         ....1",
            "1.....      ......       .....1",
            "1.1111111.    1.1    .1111111.1",
            "1.1.......    1.1    .1.....1.1",
            "1.1.......    1.1    .......1.1",
            "1.1.....1.    1.1    .......1.1",
            "1.1111111.    1.1    .1111111.1",
            "13...........................31",
            "1111111111111111111111111111111"
        ], [
            "1111111111111111111111111111111",
            "1..2..............1...........1",
            "1.11111111111.111.1.1.1.11111.1",
            "1.1.........1...1...1.1.1...1.1",
            "1.1.11111.1.111.1.1.1.1.1.3.1.1",
            "1.1.1...1.1.1...1.1.1.1.1...1.1",
            "1.1.1.1.1.111.111111111.11.11.1",
            "1...1.1.1...........1.1.......1",
            "1.1.1.1.11111.11111.1.1.11111.1",
            "1.1.1.......1...1.1.1.1.1.....1",
            "1.1.1111111.1.1.1.1.1.1...111.1",
            "1.1...1.1.1.1.1.1.1.1.11111.1.1",
            "1.111.1.1.1.1.131.1........31.1",
            "1...1.1.1.....1.1.11111111111.1",
            "1.1.1.1.1.1.1.1.1.............1",
            "1.1.131.1.1.1.1.1.111111111.111",
            "1.1.1.1.1.1.1.1.1.1...........1",
            "1.1.1...1.1.1...1.1.111.1.111.1",
            "1.1.1.11111111111.1.1.......1.1",
            "1.1.1.1.1.1.1.1.1.1.1.11.11.1.1",
            "1.1.1.1.1.1.1.1.1...1.1...1.1.1",
            "1...1.............1.1.1...1...1",
            "1.111111111111111.1.111111111.1",
            "1................31....3......1",
            "1111111111111111111111111111111",
        ]
    ]
};
